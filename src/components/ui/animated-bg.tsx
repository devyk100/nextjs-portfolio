"use client";

import { motion } from "framer-motion";
import { useTheme } from "next-themes";

export const AnimatedBackground = () => {
    const { resolvedTheme } = useTheme()
    if (!resolvedTheme) return null;
    return (
        <motion.div className="fixed inset-0 top-0 left-0 -z-10">
            <svg
                className="w-full h-[1000px]"
                viewBox="0 0 800 800"
                xmlns="http://www.w3.org/2000/svg"
                preserveAspectRatio="xMidYMid slice"
            >
                <motion.path
                    fill="url(#grad)"
                    d="M407.5,599.5Q301,699,206.5,599Q112,499,182,379Q252,259,377,211Q502,163,596.5,281.5Q691,400,607,500Q523,600,407.5,599.5Z"
                    animate={{
                        d: [
                            "M407.5,599.5Q301,699,206.5,599Q112,499,182,379Q252,259,377,211Q502,163,596.5,281.5Q691,400,607,500Q523,600,407.5,599.5Z",
                            "M441,583Q316,766,204,624.5Q92,483,153.5,357.5Q215,232,354,166Q493,100,574.5,233Q656,366,550.5,483Q445,600,441,583Z",
                            "M407.5,599.5Q301,699,206.5,599Q112,499,182,379Q252,259,377,211Q502,163,596.5,281.5Q691,400,607,500Q523,600,407.5,599.5Z",
                            "M426,580Q324,660,215,580Q106,500,166,370Q226,240,355.5,198.5Q485,157,589,268Q693,379,606,489.5Q519,600,426,580Z",
                            "M421,574Q312,648,216,574Q120,500,168,379.5Q216,259,351,195Q486,131,584,257.5Q682,384,596.5,492Q511,600,421,574Z",
                            "M438,577Q343,689,230.5,594.5Q118,500,164,374Q210,248,351,193Q492,138,583,261Q674,384,575.5,492Q477,600,438,577Z",
                            "M400,600Q300,700,200,600Q100,500,200,400Q300,300,400,400Q500,500,400,600Z",
                            "M350,550Q280,680,210,580Q150,470,230,370Q320,290,420,350Q520,430,440,550Z",
                            "M220,220Q300,180,580,220Q620,300,580,580Q500,620,220,580Q180,500,220,220Z",
                            "M250,280Q320,230,600,270Q630,350,590,530Q510,570,240,530Q210,460,250,280Z",
                            "M160,320Q320,250,640,320Q680,380,640,480Q520,550,160,480Q120,420,160,320Z",
                            "M250,350Q400,270,580,310Q620,410,580,520Q450,560,250,520Q210,430,250,350Z",
                            "M270,330Q360,270,520,300Q590,390,520,490Q390,540,270,490Q210,430,270,330Z",
                            "M340,310Q500,300,590,370Q610,460,560,480Q430,520,340,480Q280,400,340,310Z",
                            "M410,220Q580,580,180,580Q220,380,410,220Z",
                            "M390,350Q400,600,210,580Q170,460,260,370Q310,320,410,350Z",
                            "M400,600Q300,700,200,600Q100,500,200,400Q300,300,400,400Q500,500,400,600Z",
                            "M438,577Q343,689,230.5,594.5Q118,500,164,374Q210,248,351,193Q492,138,583,261Q674,384,575.5,492Q477,600,438,577Z",
                            "M433.5,573Q347,672,237.5,578.5Q128,485,173.5,370Q219,255,354.5,197.5Q490,140,580.5,260Q671,380,570.5,490Q470,600,433.5,573Z",
                            "M407.5,599.5Q301,699,206.5,599Q112,499,182,379Q252,259,377,211Q502,163,596.5,281.5Q691,400,607,500Q523,600,407.5,599.5Z",
                            "M420,600Q300,700,200,600Q100,500,160,370Q220,240,355,180Q490,120,585,255Q680,390,590,495Q500,600,420,600Z",
                            "M440,590Q340,670,230,580Q120,490,170,365Q220,240,350,175Q480,110,580,250Q680,390,600,495Q520,600,440,590Z",
                            "M460,610Q345,715,230,610Q115,505,165,375Q215,245,355,190Q495,135,595,262.5Q695,390,600,495Q505,600,460,610Z",
                            "M435,585Q330,700,220,590Q110,480,155,360Q200,240,345,190Q490,140,580,260Q670,380,585,487.5Q500,595,435,585Z",
                            "M450,595Q360,690,250,600Q140,510,165,380Q190,250,345,180Q500,110,585,250Q670,390,585,495Q500,600,450,595Z",
                            "M425,580Q310,695,200,580Q90,465,160,355Q230,245,360,190Q490,135,580,250Q670,365,590,482.5Q510,600,425,580Z",
                            "M445,605Q320,705,210,595Q100,485,150,362.5Q200,240,350,185Q500,130,595,260Q690,390,595,497.5Q500,605,445,605Z",
                            "M407.5,599.5Q301,699,206.5,599Q112,499,182,379Q252,259,377,211Q502,163,596.5,281.5Q691,400,607,500Q523,600,407.5,599.5Z",

                        ],
                    }}
                    transition={{
                        repeat: Infinity,
                        duration: 60,
                        ease: "easeInOut",
                        damping: 0,
                        power: 1
                    }}
                />
                <defs>
                    <radialGradient id="grad" cx="50%" cy="50%" r="50%">
                        <stop offset="0%" stopColor={(resolvedTheme == "dark" ? "#570475" : "#dc8cfa")} />
                        <stop offset="100%" stopColor={(resolvedTheme == "dark" ? "#0e003a" : "#f6e3fc")} />
                    </radialGradient>
                </defs>
            </svg>
        </motion.div>
    );

};
